# Deployment configuration for AI Slide Generator
# This file defines deployment targets for different environments (dev, staging, production)

environments:
  development:
    app_name: "ai-slide-generator-dev"
    description: "AI Slide Generator - Development Environment"
    workspace_path: "/Workspace/Users/robert.whiffin@databricks.com/.apps/databricks-tellr/dev"
    permissions:
      - user_name: "robert.whiffin@databricks.com"
        permission_level: "CAN_MANAGE"
    compute_size: "MEDIUM"  # Options: MEDIUM, LARGE, LIQUID
    env_vars:
      ENVIRONMENT: "development"
      LOG_LEVEL: "DEBUG"
      LAKEBASE_INSTANCE: "db-tellr-dev"
      LAKEBASE_SCHEMA: "app_data_dev"
    lakebase:
      database_name: "db-tellr-dev"
      schema: "app_data_dev"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

  staging:
    app_name: "ai-slide-generator-staging"
    description: "AI Slide Generator - Staging Environment"
    workspace_path: "/Workspace/Users/robert.whiffin@databricks.com/.apps/staging/ai-slide-generator"
    permissions:
      - group_name: "developers"
        permission_level: "CAN_USE"
      - user_name: "robert.whiffin@databrickks.com"
        permission_level: "CAN_MANAGE"
    compute_size: "MEDIUM"  # Options: MEDIUM, LARGE, LIQUID
    env_vars:
      ENVIRONMENT: "staging"
      LOG_LEVEL: "INFO"
      LAKEBASE_INSTANCE: "ai-slide-generator-db-dev"
      LAKEBASE_SCHEMA: "app_data_staging"
    lakebase:
      database_name: "ai-slide-generator-db-dev"
      schema: "app_data_staging"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

  production:
    app_name: "ai-slide-generator"
    description: "AI Slide Generator - Production"
    workspace_path: "/Workspace/Shared/apps/production/ai-slide-generator"
    permissions:
      - group_name: "users"
        permission_level: "CAN_USE"
      - group_name: "admins"
        permission_level: "CAN_MANAGE"
    compute_size: "LARGE"  # Options: MEDIUM, LARGE, LIQUID
    env_vars:
      ENVIRONMENT: "production"
      LOG_LEVEL: "INFO"
      LAKEBASE_INSTANCE: "ai-slide-generator-db"
      LAKEBASE_SCHEMA: "app_data"
    lakebase:
      database_name: "ai-slide-generator-db"
      schema: "app_data"
      capacity: "CU_1"  # Options: CU_1, CU_2, CU_4, CU_8

# Common settings across all environments
common:
  build:
    exclude_patterns:
      - "*.pyc"
      - "__pycache__"
      - ".git"
      - ".venv"
      - "venv"
      - "node_modules"
      - "tests"
      - ".pytest_cache"
      - "*.log"
      - ".env"
      - ".env.*"
      - "docs"
      - "examples"
      - "mlruns"
      - "logs"
      - "output"
      - "*.md"
      - ".cursor"
      - ".databricks"
  
  deployment:
    timeout_seconds: 300
    poll_interval_seconds: 5
